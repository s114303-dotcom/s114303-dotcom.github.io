<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>ä»Šå¤©åƒä»€éº¼</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:system-ui;background:#111;color:#fff;text-align:center}
button{padding:10px 18px;margin:6px;font-size:16px;border:none;border-radius:8px;cursor:pointer}
.primary{background:#4ade80;color:#000}
.secondary{background:#60a5fa;color:#000}
.danger{background:#f87171;color:#000}
#result{margin-top:18px;font-size:26px}
#foodImage{font-size:120px;margin-top:10px}
#overlay{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:999}
#gameBox{position:relative}
#flower{position:absolute;top:-50px;left:0;font-size:36px}
#flowerText{position:absolute;top:-28px;left:48px;font-size:14px;text-align:left;width:260px}
canvas{background:#000;border:2px solid #fff}
</style>
</head>
<body>

<h1>ğŸ½ ä»Šå¤©åƒä»€éº¼</h1>

<button id="modeBtn" class="secondary">æ¨¡å¼ï¼šæ­£å¸¸</button><br>
<button id="pickBtn" class="primary">å¹«æˆ‘æ±ºå®š</button>
<button id="funBtn" class="danger">More Fun</button>

<div id="result"></div>
<div id="foodImage">ğŸ´</div>

<!-- More Fun -->
<div id="overlay">
  <div id="gameBox">
    <div id="flower">ğŸŒ¼</div>
    <div id="flowerText"></div>
    <canvas id="game" width="360" height="480"></canvas>
  </div>
</div>

<script>
/* ================== é¤é» ================== */
const normalFoods=[
'æ»·è‚‰é£¯','é›è‚‰é£¯','æ’éª¨ä¾¿ç•¶','ç‚¸é›è…¿ä¾¿ç•¶','æ§è‚‰é£¯',
'ç‰›è‚‰éºµ','éº»é†¬éºµ','ä¹¾æ‹Œéºµ','æ‹‰éºµ','ç‚’éºµ',
'æ°´é¤ƒ','é‹è²¼','é¹¹é…¥é›','é›æ’','èšµä»”ç…',
'å’–å“©é£¯','ç¾©å¤§åˆ©éºµ','æŠ«è–©','æ¼¢å ¡','ä¸¼é£¯',
'æ²™æ‹‰','æ¶¼éºµ','ç²¥','åœ°ç“œ','æ¹¯éºµ',
'æ³¡éºµ','ä¾¿åˆ©å•†åº—','å¤–é€','éš¨ä¾¿åƒ'
];

const cheapFoods=[
'æ»·è‚‰é£¯','é›è‚‰é£¯','ç™½é£¯ï¼‹æ»·æ±','é†¬æ²¹æ‹Œé£¯','åœ°ç“œ','åå¸','é¥…é ­',
'æ³¡éºµ','ä¹¾æ‹Œéºµ','é™½æ˜¥éºµ','å†¬ç²‰','ç±³ç²‰æ¹¯','ç²¥','éºµç·š',
'æ»·è›‹','ç…è›‹','èŒ¶è‘‰è›‹','è±†å¹²','æ¿è±†è…','çš®è›‹è±†è…',
'èŒ¶è‘‰è›‹ï¼‹é£¯ç³°','åœ°ç“œï¼‹è±†æ¼¿','é—œæ±ç…®','å¾®æ³¢ç‚’é£¯','æ‰“æŠ˜ä¾¿ç•¶',
'å†·å‡æ°´é¤ƒ','å†·å‡ç‚’é£¯','æ˜¨å¤©å‰©èœ',
'å¤šå–æ°´','å…ˆç¡è¦º','ä¸åƒäº†ï¼ˆé¨™è‡ªå·±ï¼‰'
];

const rewardFoods=['ç‰›æ’','é¾è¦','æµ·è†½'];
const punishFoods=['åƒå±','åƒåœŸ','åƒè‡ªå·±'];

const emojiMap={é£¯:'ğŸš',éºµ:'ğŸœ',é›:'ğŸ—',ç‰›:'ğŸ¥©',æŠ«è–©:'ğŸ•',æ¼¢å ¡:'ğŸ”',æ°´é¤ƒ:'ğŸ¥Ÿ',åœ°ç“œ:'ğŸ ',åå¸:'ğŸ',ä¾¿ç•¶:'ğŸ±'};

/* ================== ä¸»åŠŸèƒ½ ================== */
let mode='normal';
const resultEl=result;
const imgEl=foodImage;

modeBtn.onclick=()=>{
  mode=mode==='normal'?'cheap':'normal';
  modeBtn.textContent='æ¨¡å¼ï¼š'+(mode==='normal'?'æ­£å¸¸':'çœéŒ¢');
};

pickBtn.onclick=()=>pickFood();

function pickFood(food){
  if(!food){
    const list=mode==='normal'?normalFoods:cheapFoods;
    food=list[Math.floor(Math.random()*list.length)];
  }
  resultEl.textContent=food;
  let e='ğŸ´';
  for(const k in emojiMap) if(food.includes(k)) e=emojiMap[k];
  imgEl.textContent=e;
}

/* ================== More Fun ================== */
const overlay=document.getElementById('overlay');
const canvas=document.getElementById('game');
const ctx=canvas.getContext('2d');
const flowerText=document.getElementById('flowerText');

const BASE_SPEED = 3;
let speedBoost = 0;
let time = 0;
let playing = false;
let taught = false;

let paddle={x:140,y:450,w:80,h:10};
let ball={x:180,y:200,r:8,vx:BASE_SPEED,vy:BASE_SPEED};

const taunts=['è€¶å“ˆå“ˆå“ˆï¼','å°±é€™ï¼Ÿ','ä½ åœ¨æŠ–å—ï¼Ÿ'];
const winTexts=['æˆ‘æ•™å¾—å¾ˆå¥½å§ï¼Ÿ','ä¸éŒ¯å˜›ï½'];
const loseTexts=['å“ˆå“ˆå“ˆï¼','å¤ªå¼±äº†å§'];

funBtn.onclick=()=>{
  overlay.style.display='flex';
  flowerText.textContent = taught
    ? taunts[Math.floor(Math.random()*taunts.length)]
    : 'çœ‹åˆ°çƒäº†å—ï¼Ÿç§»å‹•æ»‘é¼ æ“‹ä½å®ƒ';
  taught = true;
  resetGame();
  playing = true;
  requestAnimationFrame(loop);
};

overlay.onmousemove=e=>{
  const r=canvas.getBoundingClientRect();
  paddle.x=e.clientX-r.left-paddle.w/2;
};

function resetGame(){
  time = 0;
  speedBoost = 0;
  ball.x = 180;
  ball.y = 200;
  ball.vx = BASE_SPEED;
  ball.vy = BASE_SPEED;
}

function loop(){
  if(!playing) return;
  ctx.clearRect(0,0,360,480);
  time++;

  /* å±€å…§åŠ é€Ÿï¼šæ¯ 3 ç§’ */
  if(time % 180 === 0){
    speedBoost += 0.6;
    ball.vx = Math.sign(ball.vx) * (BASE_SPEED + speedBoost);
    ball.vy = Math.sign(ball.vy) * (BASE_SPEED + speedBoost);
  }

  ball.x += ball.vx;
  ball.y += ball.vy;

  if(ball.x<ball.r||ball.x>360-ball.r) ball.vx*=-1;
  if(ball.y<ball.r) ball.vy*=-1;

  if(ball.y+ball.r>paddle.y &&
     ball.x>paddle.x &&
     ball.x<paddle.x+paddle.w){
    ball.vy*=-1;
  }

  if(ball.y>480){
    gameOver();
    return;
  }

  if(time>600){
    winGame();
    return;
  }

  ctx.fillStyle='#fff';
  ctx.beginPath();
  ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);
  ctx.fill();
  ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);

  requestAnimationFrame(loop);
}

function gameOver(){
  playing=false;
  const f=punishFoods[Math.floor(Math.random()*punishFoods.length)];
  flowerText.textContent=loseTexts[Math.floor(Math.random()*loseTexts.length)];
  pickFood(f);
  setTimeout(()=>overlay.style.display='none',1500);
}

function winGame(){
  playing=false;
  const f=rewardFoods[Math.floor(Math.random()*rewardFoods.length)];
  flowerText.textContent=winTexts[Math.floor(Math.random()*winTexts.length)];
  pickFood(f);
  setTimeout(()=>overlay.style.display='none',1500);
}
</script>
</body>
</html>
    #flowerText {
      position: absolute;
      top: -30px;
      left: 60px;
      font-size: 14px;
      text-align: left;
      max-width: 240px;
    }

    canvas {
      display: block;
      background: #111;
    }
  </style>
</head>
<body>

<h1>ğŸ½ ä»Šå¤©åƒä»€éº¼</h1>

<div>
  <button class="secondary" id="modeBtn">æ¨¡å¼ï¼šæ­£å¸¸</button>
</div>

<div>
  <button class="primary" id="pickBtn">å¹«æˆ‘æ±ºå®š</button>
  <button class="danger" id="funBtn">More Fun</button>
</div>

<div id="result"></div>
<div id="foodImage">ğŸ´</div>

<!-- More Fun Overlay -->
<div id="overlay">
  <div id="gameBox">
    <div id="flower">ğŸŒ¼</div>
    <div id="flowerText"></div>
    <canvas id="game" width="360" height="500"></canvas>
  </div>
</div>

<script>
/* ========= é¤é»è³‡æ–™ ========= */
const normalFoods = [
 'æ»·è‚‰é£¯','é›è‚‰é£¯','æ’éª¨ä¾¿ç•¶','ç‚¸é›è…¿ä¾¿ç•¶','æ§è‚‰é£¯',
 'ç‰›è‚‰éºµ','éº»é†¬éºµ','ä¹¾æ‹Œéºµ','æ‹‰éºµ','ç‚’éºµ',
 'æ°´é¤ƒ','é‹è²¼','é¹¹é…¥é›','é›æ’','èšµä»”ç…',
 'å’–å“©é£¯','ç¾©å¤§åˆ©éºµ','æŠ«è–©','æ¼¢å ¡','ä¸¼é£¯',
 'æ²™æ‹‰','æ¶¼éºµ','ç²¥','åœ°ç“œ','æ¹¯éºµ',
 'æ³¡éºµ','ä¾¿åˆ©å•†åº—','å¤–é€','éš¨ä¾¿åƒ'
];

const cheapFoods = [
 'æ»·è‚‰é£¯','é›è‚‰é£¯','ç™½é£¯ï¼‹æ»·æ±','é†¬æ²¹æ‹Œé£¯','åœ°ç“œ','åå¸','é¥…é ­',
 'æ³¡éºµ','ä¹¾æ‹Œéºµ','é™½æ˜¥éºµ','å†¬ç²‰','ç±³ç²‰æ¹¯','ç²¥','éºµç·š',
 'æ»·è›‹','ç…è›‹','èŒ¶è‘‰è›‹','è±†å¹²','æ¿è±†è…','çš®è›‹è±†è…',
 'èŒ¶è‘‰è›‹ï¼‹é£¯ç³°','åœ°ç“œï¼‹è±†æ¼¿','é—œæ±ç…®','å¾®æ³¢ç‚’é£¯','æ‰“æŠ˜ä¾¿ç•¶',
 'å†·å‡æ°´é¤ƒ','å†·å‡ç‚’é£¯','æ˜¨å¤©å‰©èœ',
 'å¤šå–æ°´','å…ˆç¡è¦º','ä¸åƒäº†ï¼ˆé¨™è‡ªå·±ï¼‰'
];

const emojiMap = {
  'é£¯':'ğŸš','éºµ':'ğŸœ','é›':'ğŸ—','ç‰›':'ğŸ¥©','æŠ«è–©':'ğŸ•',
  'æ¼¢å ¡':'ğŸ”','æ°´é¤ƒ':'ğŸ¥Ÿ','é‹è²¼':'ğŸ¥Ÿ','é¹¹é…¥é›':'ğŸ—',
  'æ³¡éºµ':'ğŸœ','åœ°ç“œ':'ğŸ ','åå¸':'ğŸ','ä¾¿ç•¶':'ğŸ±',
  'ä¾¿åˆ©å•†åº—':'ğŸª','å¤–é€':'ğŸ›µ'
};

let mode = 'normal';

/* ========= ä¸»åŠŸèƒ½ ========= */
const resultEl = document.getElementById('result');
const imgEl = document.getElementById('foodImage');
const modeBtn = document.getElementById('modeBtn');

modeBtn.onclick = () => {
  mode = mode === 'normal' ? 'cheap' : 'normal';
  modeBtn.textContent = 'æ¨¡å¼ï¼š' + (mode === 'normal' ? 'æ­£å¸¸' : 'çœéŒ¢');
};

document.getElementById('pickBtn').onclick = () => {
  const list = mode === 'normal' ? normalFoods : cheapFoods;
  const food = list[Math.floor(Math.random() * list.length)];
  resultEl.textContent = food;

  let emoji = 'ğŸ´';
  for (const key in emojiMap) {
    if (food.includes(key)) {
      emoji = emojiMap[key];
      break;
    }
  }
  imgEl.textContent = emoji;
};

/* ========= More Fun éŠæˆ² ========= */
const overlay = document.getElementById('overlay');
const funBtn = document.getElementById('funBtn');
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const flowerText = document.getElementById('flowerText');

let paddle = { x: 140, y: 460, w: 80, h: 12 };
let ball = { x: 180, y: 200, vx: 3, vy: 3, r: 8 };
let playing = false;

funBtn.onclick = () => {
  overlay.style.display = 'flex';
  flowerText.textContent = 'çœ‹åˆ°çƒäº†å—ï¼Ÿç§»å‹•æ»‘é¼ æŠŠå®ƒæ“‹ä½';
  resetGame();
  playing = true;
  requestAnimationFrame(loop);
};

overlay.onmousemove = e => {
  const rect = canvas.getBoundingClientRect();
  paddle.x = e.clientX - rect.left - paddle.w / 2;
};

function resetGame() {
  ball.x = 180;
  ball.y = 200;
  ball.vx = 3;
  ball.vy = 3;
}

function loop() {
  if (!playing) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // ball
  ball.x += ball.vx;
  ball.y += ball.vy;

  if (ball.x < ball.r || ball.x > canvas.width - ball.r) ball.vx *= -1;
  if (ball.y < ball.r) ball.vy *= -1;

  // paddle collision
  if (
    ball.y + ball.r > paddle.y &&
    ball.x > paddle.x &&
    ball.x < paddle.x + paddle.w
  ) {
    ball.vy *= -1;
    flowerText.textContent = 'æ¬¸ï½ä½ å±…ç„¶æ“‹åˆ°äº†';
  }

  // game over
  if (ball.y > canvas.height) {
    flowerText.textContent = 'å“ˆå“ˆå“ˆï¼åƒå±å•¦';
    playing = false;
    setTimeout(() => overlay.style.display = 'none', 1500);
  }

  ctx.fillStyle = '#fff';
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
  ctx.fill();

  ctx.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);

  requestAnimationFrame(loop);
}
</script>

</body>
</html>
